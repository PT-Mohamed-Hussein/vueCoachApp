import{_ as p,B as $}from"./index.e802b6e0.js";import{r as n,o as t,c as a,b as i,w as d,a as s,t as l,p as m,f as g,d as h,F as q,i as R}from"./vendor.39cc6ec5.js";import k from"./BaseSpinner.50749ba9.js";const w={props:["SenderEmail","Content"]},f=e=>(m("data-v-0e2d44c8"),e=e(),g(),e),x={class:"mail"},B=f(()=>s("span",null,"From: ",-1)),I=["href"],L=f(()=>s("p",{class:"main"},"Content:",-1)),M={class:"info"};function F(e,S,r,y,o,u){const _=n("base-card");return t(),a("li",null,[i(_,null,{default:d(()=>[s("div",x,[B,s("a",{class:"info",href:"mailto:"+r.SenderEmail},l(r.SenderEmail),9,I)]),s("div",null,[L,s("div",M,l(r.Content),1)])]),_:1})])}var T=p(w,[["render",F],["__scopeId","data-v-0e2d44c8"]]);const D={components:{TheRequest:T,BaseSpinner:k,BaseDialog:$},data(){return{messages:[],isLoading:!1,error:null}},created(){this.loadMessages()},methods:{async loadMessages(){this.isLoading=!0;try{await this.$store.dispatch("messages/loadMessgaesFromServerSide")}catch(e){this.error=e.message,this.isLoading=!1;return}this.messages=this.$store.getters["messages/getMessages"],this.isLoading=!1},handelError(){this.error=null}}},v=e=>(m("data-v-080c278a"),e=e(),g(),e),N={class:"psudoCont"},V=v(()=>s("h2",null,"Requested Received",-1)),A=v(()=>s("hr",null,null,-1)),H={key:1},O={key:2};function Y(e,S,r,y,o,u){const _=n("base-dialog"),C=n("base-spinner"),E=n("the-request"),b=n("base-card");return t(),a("div",N,[i(_,{show:!!o.error,title:"Erorr Occured!",onClose:u.handelError},{default:d(()=>[s("p",null,l(o.error),1)]),_:1},8,["show","onClose"]),i(b,null,{default:d(()=>[V,A,o.isLoading?(t(),h(C,{key:0})):o.messages.length>0?(t(),a("ul",H,[(t(!0),a(q,null,R(o.messages,c=>(t(),h(E,{key:c.id,SenderEmail:c.SenderEmail,Content:c.MessageContent},null,8,["SenderEmail","Content"]))),128))])):(t(),a("h4",O,"You Havent Received Any Requests"))]),_:1})])}var J=p(D,[["render",Y],["__scopeId","data-v-080c278a"]]);export{J as default};
