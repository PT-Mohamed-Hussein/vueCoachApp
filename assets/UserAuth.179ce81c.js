import{d as b,w as a,r as l,o as p,b as n,a as e,t as d,y as h,z as _,c as v,e as x,g as f,B as y,p as I,f as V}from"./vendor.39cc6ec5.js";import{_ as B}from"./index.e802b6e0.js";const L={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonText(){return this.mode=="login"?"Login":"Sign-up"},switchButtonText(){return this.mode=="login"?"Sign-up Instead":"Login Instead"}},methods:{async submitForm(){if(this.formIsValid=!0,this.email==""||this.password.length<6){this.formIsValid=!1;return}this.isLoading=!0;try{this.mode=="login"?await this.$store.dispatch("login",{email:this.email,password:this.password}):await this.$store.dispatch("signup",{email:this.email,password:this.password}),this.$router.replace("/")}catch(t){this.isLoading=!1,this.error=t.message;return}this.isLoading=!1},switchMode(){this.mode=="login"?this.mode="signup":this.mode="login"},handelError(){this.error=null,this.isLoading=!1}}},u=t=>(I("data-v-36195625"),t=t(),V(),t),C=u(()=>e("p",null,"Authenticating ...",-1)),S={class:"form-control"},k=u(()=>e("label",{for:"email"}," E-mail ",-1)),E={class:"form-control"},T=u(()=>e("label",{for:"password"}," Password ",-1)),A={key:0},M={class:"actions"};function N(t,o,U,F,s,i){const m=l("base-dialog"),g=l("base-spinner"),c=l("base-btn"),w=l("base-card");return p(),b(w,null,{default:a(()=>[n(m,{show:!!s.error,title:"Error Occured",onClose:i.handelError},{default:a(()=>[e("p",null,d(s.error),1)]),_:1},8,["show","onClose"]),n(m,{show:s.isLoading,title:"Please Wait",fixed:""},{default:a(()=>[C,n(g)]),_:1},8,["show"]),e("form",{onSubmit:o[2]||(o[2]=y((...r)=>i.submitForm&&i.submitForm(...r),["prevent"]))},[e("div",S,[k,h(e("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=r=>s.email=r)},null,512),[[_,s.email,void 0,{trim:!0}]])]),e("div",E,[T,h(e("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=r=>s.password=r)},null,512),[[_,s.password]])]),s.formIsValid?x("",!0):(p(),v("p",A," Please Enter Avild email and password must be at least 6 digits long ")),e("div",M,[n(c,null,{default:a(()=>[f(d(i.submitButtonText),1)]),_:1}),n(c,{mode:"refresh",onClick:i.switchMode,type:"button"},{default:a(()=>[f(d(i.switchButtonText),1)]),_:1},8,["onClick"])])],32)]),_:1})}var z=B(L,[["render",N],["__scopeId","data-v-36195625"]]);export{z as default};
