var G=Object.defineProperty,z=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var O=(e,t,o)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,$=(e,t)=>{for(var o in t||(t={}))J.call(t,o)&&O(e,o,t[o]);if(D)for(var o of D(t))X.call(t,o)&&O(e,o,t[o]);return e},S=(e,t)=>z(e,H(t));import{r as l,o as c,c as h,a as i,b as _,w as d,d as p,e as v,p as P,f as x,g as f,T as E,h as Z,t as C,F as q,i as j,n as L,j as F,k as K,l as Q,m as Y,q as ee,s as w,u as te,_ as se,v as oe,x as re}from"./vendor.39cc6ec5.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}};ae();const ne="modulepreload",R={},ie="/vueCoachApp/",g=function(t,o){return!o||o.length===0?t():Promise.all(o.map(a=>{if(a=`${ie}${a}`,a in R)return;R[a]=!0;const r=a.endsWith(".css"),s=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${s}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":ne,r||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),r)return new Promise((u,y)=>{n.addEventListener("load",u),n.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};var I=(e,t)=>{const o=e.__vccOpts||e;for(const[a,r]of t)o[a]=r;return o};const ce={computed:{auth(){return this.$store.getters.isAuth},isCoach(){return this.$store.getters["coaches/isCoach"]}},methods:{LogOut(){this.$store.dispatch("logout")}},async created(){await this.$store.dispatch("coaches/loadCoachesFromServer",{forceUpdate:!0})}},ue=e=>(P("data-v-72550398"),e=e(),x(),e),le=ue(()=>i("div",null,"logo here",-1)),de=f(" Coaches "),he=f(" My Requests "),_e=f(" Register As Coach "),me=f(" Login/Register "),pe=f(" Logout ");function fe(e,t,o,a,r,s){const n=l("base-btn");return c(),h("header",null,[le,i("nav",null,[_(n,{mode:"header",link:!0,to:"/coaches"},{default:d(()=>[de]),_:1}),s.auth?(c(),p(n,{key:0,mode:"header",link:!0,to:"/requests"},{default:d(()=>[he]),_:1})):v("",!0),!s.isCoach&&s.auth?(c(),p(n,{key:1,mode:"header",link:!0,to:"/register"},{default:d(()=>[_e]),_:1})):v("",!0),s.auth?v("",!0):(c(),p(n,{key:2,mode:"header",link:!0,to:"/auth"},{default:d(()=>[me]),_:1})),s.auth?(c(),p(n,{key:3,mode:"header",link:!0,to:"/",onClick:s.LogOut},{default:d(()=>[pe]),_:1},8,["onClick"])):v("",!0)])])}var ge=I(ce,[["render",fe],["__scopeId","data-v-72550398"]]);const ve={components:{TheHeader:ge},computed:{didAutoLogout(){return this.$store.getters.didAutoLogout}},created(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout(e,t){e&&e!==t&&this.$router.replace("/")}}},ke={class:"container"};function ye(e,t,o,a,r,s){const n=l("the-header"),u=l("router-view");return c(),h("div",ke,[_(n),_(u,null,{default:d(y=>[_(E,{name:"route",mode:"out-in"},{default:d(()=>[(c(),p(Z(y.Component)))]),_:2},1024)]),_:1})])}var Ce=I(ve,[["render",ye]]);const Ie={props:["firstName","lastName","areas","description","hourRate","id","image","button"]},be={class:"Item"},we=["src"],$e={class:"areas"},Se={class:"disc"},Fe={class:"rate"},Te=f("Contact");function Le(e,t,o,a,r,s){const n=l("base-badge"),u=l("font-awesome-icon"),y=l("base-btn");return c(),h("div",be,[i("h2",null,C(o.firstName+" "+o.lastName),1),i("img",{class:"image",src:o.image},null,8,we),i("div",$e,[(c(!0),h(q,null,j(o.areas,b=>(c(),p(n,{key:b,customClass:b},{default:d(()=>[f(C(b),1)]),_:2},1032,["customClass"]))),128))]),i("p",Se,C(o.description),1),i("p",Fe,C(o.hourRate+"$/hr"),1),o.button?(c(),p(y,{key:0,class:"contact",link:!0,to:`/contact/${o.id}`},{default:d(()=>[_(u,{icon:"envelope",class:"icon"}),Te]),_:1},8,["to"])):v("",!0)])}var Ae=I(Ie,[["render",Le],["__scopeId","data-v-0f29d5e8"]]);const Ee={emits:["filter-coaches"],data(){return{showFilter:!1,rotateIcon:"",filter:{frontend:!0,backend:!0,career:!0}}},methods:{toggFilter(){this.showFilter=!this.showFilter,this.showFilter?this.rotateIcon="rotate":this.rotateIcon=""},setFilter(e){let t=e.target.id,o=e.target.checked;this.filter[t]=o,this.$emit("filter-coaches",this.filter)}}},N=e=>(P("data-v-a9b3af28"),e=e(),x(),e),Ne=f(" Select Coach Critiria "),De={key:0,class:"options"},Oe={class:"filterOption"},Re=N(()=>i("label",{for:"frontend"},"FrontEnd",-1)),Be={class:"filterOption"},Pe=N(()=>i("label",{for:"backend"},"BackEnd",-1)),xe={class:"filterOption"},qe=N(()=>i("label",{for:"career"},"Career",-1));function je(e,t,o,a,r,s){const n=l("font-awesome-icon");return c(),h("div",{class:L(r.showFilter?"filter":"")},[i("h2",null,[Ne,_(n,{icon:"angle-down",onClick:s.toggFilter,class:L(["icon",r.rotateIcon])},null,8,["onClick","class"])]),_(E,null,{default:d(()=>[r.showFilter?(c(),h("div",De,[i("span",Oe,[i("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=(...u)=>s.setFilter&&s.setFilter(...u))},null,32),Re]),i("span",Be,[i("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=(...u)=>s.setFilter&&s.setFilter(...u))},null,32),Pe]),i("span",xe,[i("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=(...u)=>s.setFilter&&s.setFilter(...u))},null,32),qe])])):v("",!0)]),_:1})],2)}var Me=I(Ee,[["render",je],["__scopeId","data-v-a9b3af28"]]);const Ue={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}},Ve={key:0,open:""},We={key:0},Ge=f("Close");function ze(e,t,o,a,r,s){const n=l("base-btn");return c(),p(K,{to:"body"},[o.show?(c(),h("div",{key:0,onClick:t[0]||(t[0]=(...u)=>s.tryClose&&s.tryClose(...u)),class:"backdrop"})):v("",!0),_(E,{name:"dialog"},{default:d(()=>[o.show?(c(),h("dialog",Ve,[i("header",null,[F(e.$slots,"header",{},()=>[i("h2",null,C(o.title),1)],!0)]),i("section",null,[F(e.$slots,"default",{},void 0,!0)]),o.fixed?v("",!0):(c(),h("menu",We,[F(e.$slots,"actions",{},()=>[_(n,{onClick:s.tryClose},{default:d(()=>[Ge]),_:1},8,["onClick"])],!0)]))])):v("",!0)]),_:3})])}var M=I(Ue,[["render",ze],["__scopeId","data-v-33ca5257"]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));const Je={components:{TheListItem:Ae,CoachFilter:Me,BaseDialog:M},data(){return{filter:{frontend:!0,backend:!0,career:!0},isLoading:!1,error:null,hovered:!1}},computed:{coaches(){return this.$store.getters["coaches/getCoaches"].filter(t=>!!(this.filter.frontend&&t.areas.includes("frontend")||this.filter.backend&&t.areas.includes("backend")||this.filter.career&&t.areas.includes("career")))},hasCoaches(){return this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.filter=e},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoachesFromServer",{forceUpdate:e})}catch(t){this.isLoading=!1,this.error=t.message;return}this.isLoading=!1},handelError(){this.error=null}}},Xe={class:"psudoCont"},Ze={class:"listcont"},Ke={class:"action"},Qe=f("Refresh "),Ye={key:1,class:"list"},et={key:2,class:"NoItems"};function tt(e,t,o,a,r,s){const n=l("base-dialog"),u=l("coach-filter"),y=l("font-awesome-icon"),b=l("base-btn"),V=l("base-spinner"),W=l("the-list-item");return c(),h("div",Xe,[_(n,{show:!!r.error,title:"An error occured!",onClose:s.handelError},{default:d(()=>[i("p",null,C(r.error),1)]),_:1},8,["show","onClose"]),i("div",Ze,[_(u,{onFilterCoaches:s.setFilters,class:"filter"},null,8,["onFilterCoaches"]),i("div",Ke,[_(b,{onMouseenter:t[0]||(t[0]=m=>r.hovered=!0),onMouseleave:t[1]||(t[1]=m=>r.hovered=!1),onClick:t[2]||(t[2]=m=>s.loadCoaches(!0)),mode:"refresh"},{default:d(()=>[Qe,_(y,{icon:"arrows-rotate",class:L({icon:r.hovered})},null,8,["class"])]),_:1})]),r.isLoading?(c(),p(V,{key:0})):s.hasCoaches?(c(),h("div",Ye,[(c(!0),h(q,null,j(s.coaches,m=>(c(),p(W,{key:m.id,firstName:m.firstName,lastName:m.lastName,id:m.id,areas:m.areas,description:m.description,hourRate:m.hourlyRate,image:m.Image,button:!0},null,8,["firstName","lastName","id","areas","description","hourRate","image"]))),128))])):(c(),h("div",et,"No Items Found."))])])}var st=I(Je,[["render",tt],["__scopeId","data-v-6bf285c5"]]),ot={registerCoach(e,t){e.coaches.push(t)},setCoachesFromServer(e,t){e.coaches=t},setTimeStamp(e){e.lastFetch=new Date().getTime()}};class B{constructor(t,o,a,r,s,n,u){this.id=t,this.firstName=o,this.lastName=a,this.description=r,this.hourlyRate=s,this.areas=n,this.Image=u}setId(t){this.id=t}}var rt={async registerCoach(e,t){const o=e.rootGetters.userId,a=new B("",t.first,t.last,t.desc,t.rate,t.areas,t.img),r=e.rootGetters.userToken,s=await fetch(`https://vuecoachapp-14284-default-rtdb.europe-west1.firebasedatabase.app/coaches/${o}.json?auth=${r}`,{method:"PUT",body:JSON.stringify(a)}),n=await s.json();if(!s.ok)throw new Error(n.message||" Fialed To Fetch !!");a.setId(o),e.commit("registerCoach",a)},async loadCoachesFromServer(e,t){if(!t.forceUpdate&&!e.getters.shouldUpdate)return;const o=await fetch("https://vuecoachapp-14284-default-rtdb.europe-west1.firebasedatabase.app/coaches.json"),a=await o.json();if(!o.ok)throw new Error(a.message||" Fialed To Fetch !!");const r=[];for(let s in a){const n=new B(s,a[s].firstName,a[s].lastName,a[s].description,a[s].hourlyRate,a[s].areas,a[s].Image);r.push(n)}e.commit("setCoachesFromServer",r),e.commit("setTimeStamp")}},at={getCoaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,o,a){let r=t.getCoaches,s=a.userId;return r.some(n=>n.id===s)},shouldUpdate(e){const t=e.lastFetch;return t?(new Date().getTime()-t)/1e3>60:!0}},nt={namespaced:!0,state(){return{lastFetch:null,coaches:[]}},mutations:ot,actions:rt,getters:at},it={AddMessage(e,t){e.messages.push(t)},SetMessagesFromServer(e,t){e.messages=t}};class ct{constructor(t,o){this.SenderEmail=t,this.MessageContent=o}setId(t){this.id=t}setCoachId(t){this.CoachId=t}}var ut={async AddNewMessage(e,t){const o=new ct(t.Email,t.Content),a=e.rootGetters.userToken,r=await fetch(`https://vuecoachapp-14284-default-rtdb.europe-west1.firebasedatabase.app/messages/${t.cID}.json?auth=${a}`,{method:"POST",body:JSON.stringify(o)}),s=await r.json();if(o.setId(s.name),o.setCoachId(t.cID),!r.ok)throw console.log(s),new Error(s.message||" Fialed To Fetch !!");e.commit("AddMessage",o)},async loadMessgaesFromServerSide(e){const t=e.rootGetters.userId,o=e.rootGetters.userToken,a=await fetch(`https://vuecoachapp-14284-default-rtdb.europe-west1.firebasedatabase.app/messages/${t}.json?auth=${o}`),r=await a.json();if(!a.ok)throw new Error(r.message||" Fialed To Fetch !!");const s=[];for(let n in r){const u=S($({},r[n]),{CoachId:t,id:n});s.push(u)}e.commit("SetMessagesFromServer",s)}},lt={getMessages(e){return e.messages},getLastMessageId(e){let t=e.messages[e.requests.length];return parseInt(t.substring(1))}},dt={namespaced:!0,state(){return{messages:[]}},mutations:it,actions:ut,getters:lt},ht={setUser(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout(e){e.didAutoLogout=!0}};let T;var _t={async login(e,t){return e.dispatch("auth",S($({},t),{mode:"login"}))},async signup(e,t){return e.dispatch("auth",S($({},t),{mode:"signup"}))},async auth(e,t){const o=t.mode;let a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBSW9jv6Cjn4XlmsxykNpofkFSOTmNZ0W4";o==="signup"&&(a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBSW9jv6Cjn4XlmsxykNpofkFSOTmNZ0W4");const r=await fetch(a,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),s=await r.json();if(!r.ok)throw new Error(s.error.message||"Failed To Auth");const n=+s.expiresIn*1e3,u=new Date().getTime()+n;localStorage.setItem("token",s.idToken),localStorage.setItem("userId",s.localId),localStorage.setItem("tokenExpiration",u),T=setTimeout(function(){e.dispatch("autoLogout")},n),e.commit("setUser",{token:s.idToken,userId:s.localId})},tryLogin(e){const t=localStorage.getItem("token"),o=localStorage.getItem("userId"),r=+localStorage.getItem("tokenExpiration")-new Date().getTime();r<1e4||(T=setTimeout(function(){e.dispatch("autoLogout")},r),t&&o&&e.commit("setUser",{token:t,userId:o}))},logout(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),e.commit("setUser",{token:null,userId:null}),clearTimeout(T)},autoLogout(e){e.dispatch("logout"),e.commit("setAutoLogout")}},mt={userId(e){return e.userId},userToken(e){return e.token},isAuth(e){return!!e.token},didAutoLogout(e){return e.didAutoLogout}},pt={state(){return{userId:null,token:null,didAutoLogout:!1}},mutations:ht,actions:_t,getters:mt};const A=Q({modules:{coaches:nt,messages:dt,auth:pt}}),ft=()=>g(()=>import("./CoachRegisteration.ef3b36e9.js"),["assets/CoachRegisteration.ef3b36e9.js","assets/CoachRegisteration.ab0a0ce5.css","assets/vendor.39cc6ec5.js"]),gt=()=>g(()=>import("./ContactCoach.1c71b32d.js"),["assets/ContactCoach.1c71b32d.js","assets/ContactCoach.e17b8a19.css","assets/BaseSpinner.50749ba9.js","assets/BaseSpinner.40a7f9d7.css","assets/vendor.39cc6ec5.js"]),vt=()=>g(()=>import("./TheRequests.aaa422d8.js"),["assets/TheRequests.aaa422d8.js","assets/TheRequests.3116611f.css","assets/vendor.39cc6ec5.js","assets/BaseSpinner.50749ba9.js","assets/BaseSpinner.40a7f9d7.css"]),kt=()=>g(()=>import("./NotFound.c4450378.js"),["assets/NotFound.c4450378.js","assets/NotFound.f52ceeb5.css","assets/vendor.39cc6ec5.js"]),yt=()=>g(()=>import("./UserAuth.179ce81c.js"),["assets/UserAuth.179ce81c.js","assets/UserAuth.3a690104.css","assets/vendor.39cc6ec5.js"]),U=Y({history:ee(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",name:"coaches",component:st},{path:"/contact/:id",name:"contact",props:!0,component:gt},{path:"/register",name:"register",component:ft,meta:{requiresAuth:!0,requiresNotCoach:!0}},{path:"/requests",name:"requests",component:vt,meta:{requiresAuth:!0}},{path:"/:error(.*)",name:"error",component:kt},{path:"/auth",name:"auth",component:yt,meta:{requiresUnAuth:!0}}]});U.beforeEach(function(e,t,o){e.meta.requiresAuth&&!A.getters.isAuth?o("/auth"):e.meta.requiresUnAuth&&A.getters.isAuth?o("/"):o()});let Ct=w(()=>g(()=>Promise.resolve().then(function(){return He}),void 0)),It=w(()=>g(()=>import("./BaseBadge.17a1565b.js"),["assets/BaseBadge.17a1565b.js","assets/BaseBadge.e66b3ab4.css","assets/vendor.39cc6ec5.js"])),bt=w(()=>g(()=>import("./BaseButton.2b989db0.js"),["assets/BaseButton.2b989db0.js","assets/BaseButton.df93b4ab.css","assets/vendor.39cc6ec5.js"])),wt=w(()=>g(()=>import("./BaseCard.0daf77a2.js"),["assets/BaseCard.0daf77a2.js","assets/BaseCard.6ca407c5.css","assets/vendor.39cc6ec5.js"])),$t=w(()=>g(()=>import("./BaseSpinner.50749ba9.js"),["assets/BaseSpinner.50749ba9.js","assets/BaseSpinner.40a7f9d7.css","assets/vendor.39cc6ec5.js"]));te.add(se);const k=oe(Ce);k.use(A);k.use(U);k.component("font-awesome-icon",re);k.component("base-badge",It);k.component("base-btn",bt);k.component("base-card",wt);k.component("base-spinner",$t);k.component("base-dialog",Ct);k.mount("#app");export{M as B,Ae as T,I as _};
